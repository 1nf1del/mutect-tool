cwlVersion: v1.0
class: CommandLineTool
label: MuTect
baseCommand: ['python', '/opt/mutect.py', '--workdir', '.']
requirements:
  - class: "DockerRequirement"
    dockerPull: "opengenomics/mutect:latest"
inputs:
  - id: "#tumor"
    type: File
    inputBinding:
      prefix: --input_file:tumor
  - id: "#tumor_index"
    type: File
  - id: "#normal"
    type: File
    inputBinding:
      prefix: --input_file:normal
  - id: "#normal_index"
    type: File
  - id: "#reference"
    type: File
    inputBinding:
      prefix: --reference_sequence
  - id: "#reference_index"
    type: File
  - id: "#reference_dict"
    type: File
  - id: "#cosmic"
    type: File
    inputBinding:
      prefix: --cosmic
  - id: "#cosmic_index"
    type: File
  - id: "#dbsnp"
    type: File
    inputBinding:
      prefix: --dbsnp
  - id: "#dbsnp_index"
    type: File
  - id: "#tumor_lod"
    type: float
    default: 6.3
    inputBinding:
      prefix: --tumor_lod
  - id: "#initial_tumor_lod"
    type: float
    default: 4.0
    inputBinding:
      prefix: --initial_tumor_lod
  - id: "#out"
    type: string
    default: call_stats.txt
    inputBinding:
      prefix: --out
  - id: "#coverage_file"
    type: string
    default: coverage.wig.txt
    inputBinding:
      prefix: --coverage_file
  - id: "#vcf"
    type: string
    default: mutations.vcf
    inputBinding:
      prefix: --vcf

outputs:
  - id: "#coverage"
    type: File
    outputBinding:
      glob: $(inputs.coverage_file)


  - id: "#call_stats"
    type: File
    outputBinding:
      glob: $(inputs.out)

        
  - id: "#mutations"
    type: File
    outputBinding:
      glob: $(inputs.vcf)

        
